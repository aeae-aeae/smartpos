<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartPOS Pro - ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideRight {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideLeft {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
        }

        #root {
            padding: 20px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide Icons as SVG components
        const ShoppingCart = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
            </svg>
        );

        const Search = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
            </svg>
        );

        const Trash2 = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/>
            </svg>
        );

        const Plus = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
        );

        const Minus = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
        );

        const DollarSign = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
            </svg>
        );

        const CreditCard = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/>
            </svg>
        );

        const Percent = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="19" y1="5" x2="5" y2="19"/><circle cx="6.5" cy="6.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/>
            </svg>
        );

        const Clock = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>
            </svg>
        );

        const CheckCircle = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
        );

        const Package = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M16.5 9.4 7.55 4.24"/><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/>
            </svg>
        );

        const BarChart3 = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/>
            </svg>
        );

        const Settings = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6m9-9h-6m-6 0H3"/>
            </svg>
        );

        const Edit2 = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/>
            </svg>
        );

        const Save = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/>
            </svg>
        );

        const X = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        );

        const Download = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/>
            </svg>
        );

        const TrendingUp = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/>
            </svg>
        );

        const ArrowUp = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/>
            </svg>
        );

        const Receipt = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1z"/><path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"/><path d="M12 17V7"/>
            </svg>
        );

        const Calendar = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
        );

        // Sample data
        const defaultProducts = [
            { id: 1, name: '‡∏Å‡∏≤‡πÅ‡∏ü‡∏≠‡πÄ‡∏°‡∏£‡∏¥‡∏Å‡∏≤‡πÇ‡∏ô‡πà', category: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°', price: 45, cost: 20, stock: 50, image: '‚òï', barcode: '8850123456001' },
            { id: 2, name: '‡∏Ñ‡∏≤‡∏õ‡∏π‡∏ä‡∏¥‡πÇ‡∏ô‡πà', category: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°', price: 55, cost: 25, stock: 45, image: '‚òï', barcode: '8850123456002' },
            { id: 3, name: '‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', category: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°', price: 40, cost: 18, stock: 60, image: 'üçµ', barcode: '8850123456003' },
            { id: 4, name: '‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï', category: '‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô', price: 30, cost: 12, stock: 80, image: 'üç™', barcode: '8850123456004' },
            { id: 5, name: '‡πÅ‡∏ã‡∏ô‡∏î‡πå‡∏ß‡∏¥‡∏ä‡πÑ‡∏Ç‡πà', category: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£', price: 65, cost: 30, stock: 30, image: 'ü•™', barcode: '8850123456005' },
            { id: 6, name: '‡πÇ‡∏î‡∏ô‡∏±‡∏ó', category: '‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô', price: 35, cost: 15, stock: 40, image: 'üç©', barcode: '8850123456006' },
            { id: 7, name: '‡πÄ‡∏Ñ‡πâ‡∏Å‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï', category: '‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô', price: 85, cost: 38, stock: 25, image: 'üç∞', barcode: '8850123456007' },
            { id: 8, name: '‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°', category: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°', price: 35, cost: 15, stock: 70, image: 'üçä', barcode: '8850123456008' },
        ];

        const defaultStoreInfo = {
            name: 'My Smart Caf√©',
            address: '123 ‡∏ñ‡∏ô‡∏ô‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó ‡πÅ‡∏Ç‡∏ß‡∏á‡∏Ñ‡∏•‡∏≠‡∏á‡πÄ‡∏ï‡∏¢ ‡πÄ‡∏Ç‡∏ï‡∏Ñ‡∏•‡∏≠‡∏á‡πÄ‡∏ï‡∏¢ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10110',
            phone: '02-123-4567',
            taxId: '0123456789012',
            logo: 'üè™'
        };

        // Main App Component
        function CompletePOSSystem() {
            const [currentPage, setCurrentPage] = useState('pos');
            const [cart, setCart] = useState([]);
            const [products, setProducts] = useState(() => {
                const saved = localStorage.getItem('pos-products');
                return saved ? JSON.parse(saved) : defaultProducts;
            });
            const [transactions, setTransactions] = useState(() => {
                const saved = localStorage.getItem('pos-transactions');
                return saved ? JSON.parse(saved) : [];
            });
            const [storeInfo, setStoreInfo] = useState(() => {
                const saved = localStorage.getItem('pos-store-info');
                return saved ? JSON.parse(saved) : defaultStoreInfo;
            });
            const [selectedCategory, setSelectedCategory] = useState('‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î');
            const [searchQuery, setSearchQuery] = useState('');
            const [discount, setDiscount] = useState(0);
            const [discountType, setDiscountType] = useState('percent');
            const [currentTime, setCurrentTime] = useState(new Date());
            const [showReceipt, setShowReceipt] = useState(false);
            const [lastReceipt, setLastReceipt] = useState(null);
            const [editingProduct, setEditingProduct] = useState(null);
            const [showProductForm, setShowProductForm] = useState(false);
            const [editingStore, setEditingStore] = useState(false);

            useEffect(() => {
                localStorage.setItem('pos-products', JSON.stringify(products));
            }, [products]);

            useEffect(() => {
                localStorage.setItem('pos-transactions', JSON.stringify(transactions));
            }, [transactions]);

            useEffect(() => {
                localStorage.setItem('pos-store-info', JSON.stringify(storeInfo));
            }, [storeInfo]);

            useEffect(() => {
                const timer = setInterval(() => setCurrentTime(new Date()), 1000);
                return () => clearInterval(timer);
            }, []);

            const categories = ['‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î', ...new Set(products.map(p => p.category))];

            const filteredProducts = products.filter(product => {
                const matchesCategory = selectedCategory === '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' || product.category === selectedCategory;
                const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                                     product.barcode?.includes(searchQuery);
                return matchesCategory && matchesSearch;
            });

            const addToCart = (product) => {
                if (product.stock <= 0) {
                    alert('‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏°‡∏î!');
                    return;
                }
                const existingItem = cart.find(item => item.id === product.id);
                if (existingItem) {
                    if (existingItem.quantity >= product.stock) {
                        alert('‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠!');
                        return;
                    }
                    setCart(cart.map(item =>
                        item.id === product.id
                            ? { ...item, quantity: item.quantity + 1 }
                            : item
                    ));
                } else {
                    setCart([...cart, { ...product, quantity: 1 }]);
                }
            };

            const updateQuantity = (id, change) => {
                const product = products.find(p => p.id === id);
                setCart(cart.map(item => {
                    if (item.id === id) {
                        const newQuantity = Math.max(1, Math.min(product.stock, item.quantity + change));
                        return { ...item, quantity: newQuantity };
                    }
                    return item;
                }));
            };

            const removeFromCart = (id) => {
                setCart(cart.filter(item => item.id !== id));
            };

            const clearCart = () => {
                setCart([]);
                setDiscount(0);
            };

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const discountAmount = discountType === 'percent' ? (subtotal * discount) / 100 : discount;
            const tax = (subtotal - discountAmount) * 0.07;
            const total = subtotal - discountAmount + tax;
            const cartCost = cart.reduce((sum, item) => sum + (item.cost * item.quantity), 0);

            const handleCheckout = (paymentMethod) => {
                const receipt = {
                    id: `#${String(transactions.length + 1).padStart(6, '0')}`,
                    date: new Date().toISOString(),
                    items: cart,
                    subtotal,
                    discount: discountAmount,
                    tax,
                    total,
                    cost: cartCost,
                    profit: total - cartCost,
                    paymentMethod
                };

                setLastReceipt(receipt);
                setShowReceipt(true);
                setTransactions([...transactions, receipt]);
                
                const updatedProducts = products.map(product => {
                    const cartItem = cart.find(item => item.id === product.id);
                    if (cartItem) {
                        return { ...product, stock: product.stock - cartItem.quantity };
                    }
                    return product;
                });
                setProducts(updatedProducts);

                clearCart();
            };

            const addProduct = (productData) => {
                const newProduct = {
                    ...productData,
                    id: Math.max(0, ...products.map(p => p.id)) + 1
                };
                setProducts([...products, newProduct]);
                setShowProductForm(false);
            };

            const updateProduct = (productData) => {
                setProducts(products.map(p => p.id === productData.id ? productData : p));
                setEditingProduct(null);
            };

            const deleteProduct = (id) => {
                if (window.confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                    setProducts(products.filter(p => p.id !== id));
                }
            };

            const today = new Date();
            const todayTransactions = transactions.filter(t => {
                const tDate = new Date(t.date);
                return tDate.toDateString() === today.toDateString();
            });

            const todaySales = todayTransactions.reduce((sum, t) => sum + t.total, 0);
            const todayProfit = todayTransactions.reduce((sum, t) => sum + t.profit, 0);

            const NavButton = ({ page, icon: Icon, label }) => (
                <button
                    onClick={() => setCurrentPage(page)}
                    style={{
                        background: currentPage === page 
                            ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
                            : 'white',
                        color: currentPage === page ? 'white' : '#64748b',
                        border: 'none',
                        padding: '14px 24px',
                        borderRadius: '14px',
                        fontSize: '14px',
                        fontWeight: '600',
                        cursor: 'pointer',
                        display: 'flex',
                        alignItems: 'center',
                        gap: '8px',
                        transition: 'all 0.2s',
                        boxShadow: currentPage === page ? '0 4px 15px rgba(102, 126, 234, 0.3)' : 'none'
                    }}
                >
                    <Icon size={18} />
                    {label}
                </button>
            );

            return (
                <div>
                    {/* Header */}
                    <div style={{
                        background: 'rgba(255, 255, 255, 0.98)',
                        backdropFilter: 'blur(20px)',
                        borderRadius: '24px',
                        padding: '20px 30px',
                        marginBottom: '20px',
                        boxShadow: '0 20px 60px rgba(0, 0, 0, 0.15)'
                    }}>
                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>
                            <div style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>
                                <div style={{
                                    fontSize: '40px',
                                    width: '60px',
                                    height: '60px',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                    borderRadius: '18px',
                                    boxShadow: '0 8px 20px rgba(102, 126, 234, 0.4)'
                                }}>
                                    {storeInfo.logo}
                                </div>
                                <div>
                                    <h1 style={{
                                        margin: 0,
                                        fontSize: '28px',
                                        fontWeight: '800',
                                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                        WebkitBackgroundClip: 'text',
                                        WebkitTextFillColor: 'transparent'
                                    }}>
                                        {storeInfo.name}
                                    </h1>
                                    <p style={{ margin: 0, fontSize: '13px', color: '#64748b', fontWeight: '500' }}>
                                        ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£
                                    </p>
                                </div>
                            </div>

                            <div style={{ display: 'flex', gap: '20px', alignItems: 'center' }}>
                                <div style={{ textAlign: 'right' }}>
                                    <div style={{ fontSize: '13px', color: '#64748b', fontWeight: '500' }}>
                                        {currentTime.toLocaleTimeString('th-TH')}
                                    </div>
                                    <div style={{ fontSize: '11px', color: '#94a3b8' }}>
                                        {currentTime.toLocaleDateString('th-TH', { day: 'numeric', month: 'short', year: 'numeric' })}
                                    </div>
                                </div>
                                <div style={{
                                    background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                                    padding: '12px 20px',
                                    borderRadius: '12px',
                                    color: 'white',
                                    textAlign: 'center',
                                    minWidth: '140px',
                                    boxShadow: '0 4px 15px rgba(16, 185, 129, 0.3)'
                                }}>
                                    <div style={{ fontSize: '11px', fontWeight: '600', opacity: 0.9 }}>‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                                    <div style={{ fontSize: '20px', fontWeight: '700' }}>
                                        ‡∏ø{todaySales.toLocaleString('th-TH', { minimumFractionDigits: 2 })}
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Navigation */}
                        <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>
                            <NavButton page="pos" icon={ShoppingCart} label="‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô" />
                            <NavButton page="backoffice" icon={Package} label="‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" />
                            <NavButton page="dashboard" icon={BarChart3} label="‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ" />
                            <NavButton page="settings" icon={Settings} label="‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤" />
                        </div>
                    </div>

                    {/* Content based on current page */}
                    {currentPage === 'pos' && (
                        <POSPage
                            products={filteredProducts}
                            cart={cart}
                            selectedCategory={selectedCategory}
                            setSelectedCategory={setSelectedCategory}
                            searchQuery={searchQuery}
                            setSearchQuery={setSearchQuery}
                            categories={categories}
                            addToCart={addToCart}
                            updateQuantity={updateQuantity}
                            removeFromCart={removeFromCart}
                            clearCart={clearCart}
                            discount={discount}
                            setDiscount={setDiscount}
                            discountType={discountType}
                            setDiscountType={setDiscountType}
                            subtotal={subtotal}
                            discountAmount={discountAmount}
                            tax={tax}
                            total={total}
                            handleCheckout={handleCheckout}
                            showReceipt={showReceipt}
                            setShowReceipt={setShowReceipt}
                            lastReceipt={lastReceipt}
                            storeInfo={storeInfo}
                        />
                    )}

                    {currentPage === 'backoffice' && (
                        <BackOfficePage
                            products={products}
                            editingProduct={editingProduct}
                            setEditingProduct={setEditingProduct}
                            showProductForm={showProductForm}
                            setShowProductForm={setShowProductForm}
                            updateProduct={updateProduct}
                            deleteProduct={deleteProduct}
                            addProduct={addProduct}
                        />
                    )}

                    {currentPage === 'dashboard' && (
                        <DashboardPage
                            transactions={transactions}
                            products={products}
                            todaySales={todaySales}
                            todayProfit={todayProfit}
                            todayTransactions={todayTransactions}
                        />
                    )}

                    {currentPage === 'settings' && (
                        <SettingsPage
                            storeInfo={storeInfo}
                            setStoreInfo={setStoreInfo}
                            editingStore={editingStore}
                            setEditingStore={setEditingStore}
                        />
                    )}
                </div>
            );
        }

        // POS Page Component
        function POSPage({ 
            products, cart, selectedCategory, setSelectedCategory, searchQuery, 
            setSearchQuery, categories, addToCart, updateQuantity, removeFromCart, 
            clearCart, discount, setDiscount, discountType, setDiscountType,
            subtotal, discountAmount, tax, total, handleCheckout, showReceipt,
            setShowReceipt, lastReceipt, storeInfo
        }) {
            return (
                <div style={{ display: 'grid', gridTemplateColumns: '1fr 450px', gap: '20px' }}>
                    {/* Products Panel */}
                    <div style={{
                        background: 'rgba(255, 255, 255, 0.98)',
                        backdropFilter: 'blur(20px)',
                        borderRadius: '24px',
                        padding: '25px',
                        boxShadow: '0 20px 60px rgba(0, 0, 0, 0.15)',
                        animation: 'slideRight 0.5s ease-out'
                    }}>
                        <div style={{ position: 'relative', marginBottom: '20px' }}>
                            <div style={{
                                position: 'absolute',
                                left: '16px',
                                top: '50%',
                                transform: 'translateY(-50%)',
                                color: '#94a3b8'
                            }}>
                                <Search size={20} />
                            </div>
                            <input
                                type="text"
                                placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ö‡∏≤‡∏£‡πå‡πÇ‡∏Ñ‡πâ‡∏î..."
                                value={searchQuery}
                                onChange={(e) => setSearchQuery(e.target.value)}
                                style={{
                                    width: '100%',
                                    padding: '14px 14px 14px 48px',
                                    border: '2px solid #e2e8f0',
                                    borderRadius: '16px',
                                    fontSize: '15px',
                                    fontWeight: '500',
                                    outline: 'none',
                                    transition: 'all 0.2s'
                                }}
                            />
                        </div>

                        <div style={{
                            display: 'flex',
                            gap: '10px',
                            marginBottom: '25px',
                            overflowX: 'auto',
                            paddingBottom: '5px'
                        }}>
                            {categories.map(category => (
                                <button
                                    key={category}
                                    onClick={() => setSelectedCategory(category)}
                                    style={{
                                        padding: '10px 24px',
                                        borderRadius: '12px',
                                        border: 'none',
                                        fontSize: '14px',
                                        fontWeight: '600',
                                        cursor: 'pointer',
                                        transition: 'all 0.2s',
                                        whiteSpace: 'nowrap',
                                        background: selectedCategory === category
                                            ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
                                            : '#f1f5f9',
                                        color: selectedCategory === category ? 'white' : '#64748b',
                                        boxShadow: selectedCategory === category
                                            ? '0 4px 15px rgba(102, 126, 234, 0.3)'
                                            : 'none'
                                    }}
                                >
                                    {category}
                                </button>
                            ))}
                        </div>

                        <div style={{
                            display: 'grid',
                            gridTemplateColumns: 'repeat(auto-fill, minmax(160px, 1fr))',
                            gap: '15px',
                            maxHeight: 'calc(100vh - 340px)',
                            overflowY: 'auto',
                            paddingRight: '10px'
                        }}>
                            {products.map((product, index) => (
                                <div
                                    key={product.id}
                                    onClick={() => addToCart(product)}
                                    style={{
                                        background: product.stock <= 0 ? '#fee2e2' : 'white',
                                        borderRadius: '18px',
                                        padding: '18px',
                                        cursor: product.stock <= 0 ? 'not-allowed' : 'pointer',
                                        transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',
                                        border: `2px solid ${product.stock <= 0 ? '#fca5a5' : '#f1f5f9'}`,
                                        opacity: product.stock <= 0 ? 0.6 : 1,
                                        animation: `fadeIn 0.3s ease-out ${index * 0.05}s both`,
                                    }}
                                >
                                    <div style={{
                                        fontSize: '48px',
                                        textAlign: 'center',
                                        marginBottom: '10px',
                                        filter: 'drop-shadow(0 2px 4px rgba(0,0,0,0.1))'
                                    }}>
                                        {product.image}
                                    </div>
                                    <h3 style={{
                                        margin: '0 0 6px 0',
                                        fontSize: '14px',
                                        fontWeight: '600',
                                        color: '#1e293b',
                                        lineHeight: '1.3'
                                    }}>
                                        {product.name}
                                    </h3>
                                    <div style={{
                                        display: 'flex',
                                        justifyContent: 'space-between',
                                        alignItems: 'center',
                                        marginTop: '8px'
                                    }}>
                                        <span style={{
                                            fontSize: '18px',
                                            fontWeight: '700',
                                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent'
                                        }}>
                                            ‡∏ø{product.price}
                                        </span>
                                        <span style={{
                                            fontSize: '11px',
                                            color: product.stock <= 0 ? '#dc2626' : product.stock < 10 ? '#f59e0b' : '#10b981',
                                            fontWeight: '600',
                                            background: product.stock <= 0 ? '#fee2e2' : product.stock < 10 ? '#fef3c7' : '#d1fae5',
                                            padding: '3px 8px',
                                            borderRadius: '6px'
                                        }}>
                                            {product.stock <= 0 ? '‡∏´‡∏°‡∏î' : `${product.stock} ‡∏ä‡∏¥‡πâ‡∏ô`}
                                        </span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Cart Panel */}
                    <div style={{
                        background: 'rgba(255, 255, 255, 0.98)',
                        backdropFilter: 'blur(20px)',
                        borderRadius: '24px',
                        padding: '25px',
                        boxShadow: '0 20px 60px rgba(0, 0, 0, 0.15)',
                        display: 'flex',
                        flexDirection: 'column',
                        animation: 'slideLeft 0.5s ease-out'
                    }}>
                        <div style={{
                            display: 'flex',
                            justifyContent: 'space-between',
                            alignItems: 'center',
                            marginBottom: '20px'
                        }}>
                            <h2 style={{ margin: 0, fontSize: '22px', fontWeight: '700', color: '#1e293b' }}>
                                ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                            </h2>
                            {cart.length > 0 && (
                                <button
                                    onClick={clearCart}
                                    style={{
                                        background: '#fee2e2',
                                        color: '#dc2626',
                                        border: 'none',
                                        padding: '8px 16px',
                                        borderRadius: '10px',
                                        fontSize: '13px',
                                        fontWeight: '600',
                                        cursor: 'pointer',
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '6px',
                                        transition: 'all 0.2s'
                                    }}
                                >
                                    <Trash2 size={14} />
                                    ‡∏•‡πâ‡∏≤‡∏á
                                </button>
                            )}
                        </div>

                        <div style={{ flex: 1, overflowY: 'auto', marginBottom: '20px', paddingRight: '10px' }}>
                            {cart.length === 0 ? (
                                <div style={{ textAlign: 'center', padding: '60px 20px', color: '#94a3b8' }}>
                                    <ShoppingCart size={64} style={{ opacity: 0.3, marginBottom: '16px' }} />
                                    <p style={{ fontSize: '15px', fontWeight: '500', margin: 0 }}>
                                        ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                                    </p>
                                </div>
                            ) : (
                                cart.map((item) => (
                                    <div
                                        key={item.id}
                                        style={{
                                            background: '#f8fafc',
                                            borderRadius: '14px',
                                            padding: '14px',
                                            marginBottom: '10px',
                                            border: '2px solid #f1f5f9'
                                        }}
                                    >
                                        <div style={{
                                            display: 'flex',
                                            justifyContent: 'space-between',
                                            alignItems: 'flex-start',
                                            marginBottom: '10px'
                                        }}>
                                            <div style={{ flex: 1 }}>
                                                <h4 style={{ margin: '0 0 4px 0', fontSize: '14px', fontWeight: '600', color: '#1e293b' }}>
                                                    {item.name}
                                                </h4>
                                                <p style={{
                                                    margin: 0,
                                                    fontSize: '15px',
                                                    fontWeight: '700',
                                                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                    WebkitBackgroundClip: 'text',
                                                    WebkitTextFillColor: 'transparent'
                                                }}>
                                                    ‡∏ø{item.price.toLocaleString('th-TH')}
                                                </p>
                                            </div>
                                            <button
                                                onClick={() => removeFromCart(item.id)}
                                                style={{
                                                    background: 'none',
                                                    border: 'none',
                                                    cursor: 'pointer',
                                                    color: '#ef4444',
                                                    padding: '4px'
                                                }}
                                            >
                                                <Trash2 size={16} />
                                            </button>
                                        </div>
                                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                            <div style={{
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '8px',
                                                background: 'white',
                                                borderRadius: '10px',
                                                padding: '4px',
                                                border: '2px solid #e2e8f0'
                                            }}>
                                                <button
                                                    onClick={() => updateQuantity(item.id, -1)}
                                                    style={{
                                                        background: 'linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)',
                                                        border: 'none',
                                                        borderRadius: '8px',
                                                        width: '32px',
                                                        height: '32px',
                                                        cursor: 'pointer',
                                                        display: 'flex',
                                                        alignItems: 'center',
                                                        justifyContent: 'center'
                                                    }}
                                                >
                                                    <Minus size={16} />
                                                </button>
                                                <span style={{ fontSize: '15px', fontWeight: '700', minWidth: '30px', textAlign: 'center' }}>
                                                    {item.quantity}
                                                </span>
                                                <button
                                                    onClick={() => updateQuantity(item.id, 1)}
                                                    style={{
                                                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                        border: 'none',
                                                        borderRadius: '8px',
                                                        width: '32px',
                                                        height: '32px',
                                                        cursor: 'pointer',
                                                        color: 'white',
                                                        display: 'flex',
                                                        alignItems: 'center',
                                                        justifyContent: 'center'
                                                    }}
                                                >
                                                    <Plus size={16} />
                                                </button>
                                            </div>
                                            <span style={{ fontSize: '16px', fontWeight: '700', color: '#1e293b' }}>
                                                ‡∏ø{(item.price * item.quantity).toLocaleString('th-TH')}
                                            </span>
                                        </div>
                                    </div>
                                ))
                            )}
                        </div>

                        {cart.length > 0 && (
                            <>
                                <div style={{
                                    background: '#fef3c7',
                                    borderRadius: '14px',
                                    padding: '14px',
                                    marginBottom: '15px',
                                    border: '2px solid #fde68a'
                                }}>
                                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '10px' }}>
                                        <Percent size={16} style={{ color: '#d97706' }} />
                                        <span style={{ fontSize: '13px', fontWeight: '600', color: '#92400e' }}>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</span>
                                    </div>
                                    <div style={{ display: 'flex', gap: '8px' }}>
                                        <input
                                            type="number"
                                            value={discount}
                                            onChange={(e) => setDiscount(Math.max(0, parseFloat(e.target.value) || 0))}
                                            placeholder="0"
                                            style={{
                                                flex: 1,
                                                padding: '10px',
                                                border: '2px solid #fbbf24',
                                                borderRadius: '10px',
                                                fontSize: '14px',
                                                fontWeight: '600',
                                                outline: 'none'
                                            }}
                                        />
                                        <select
                                            value={discountType}
                                            onChange={(e) => setDiscountType(e.target.value)}
                                            style={{
                                                padding: '10px 14px',
                                                border: '2px solid #fbbf24',
                                                borderRadius: '10px',
                                                fontSize: '14px',
                                                fontWeight: '600',
                                                cursor: 'pointer',
                                                background: 'white'
                                            }}
                                        >
                                            <option value="percent">%</option>
                                            <option value="fixed">‡∏ø</option>
                                        </select>
                                    </div>
                                </div>

                                <div style={{
                                    background: '#f8fafc',
                                    borderRadius: '14px',
                                    padding: '16px',
                                    marginBottom: '15px',
                                    border: '2px solid #e2e8f0'
                                }}>
                                    <div style={{
                                        display: 'flex',
                                        justifyContent: 'space-between',
                                        marginBottom: '8px',
                                        fontSize: '14px',
                                        color: '#64748b',
                                        fontWeight: '500'
                                    }}>
                                        <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</span>
                                        <span>‡∏ø{subtotal.toLocaleString('th-TH', { minimumFractionDigits: 2 })}</span>
                                    </div>
                                    {discountAmount > 0 && (
                                        <div style={{
                                            display: 'flex',
                                            justifyContent: 'space-between',
                                            marginBottom: '8px',
                                            fontSize: '14px',
                                            color: '#ef4444',
                                            fontWeight: '500'
                                        }}>
                                            <span>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</span>
                                            <span>-‡∏ø{discountAmount.toLocaleString('th-TH', { minimumFractionDigits: 2 })}</span>
                                        </div>
                                    )}
                                    <div style={{
                                        display: 'flex',
                                        justifyContent: 'space-between',
                                        marginBottom: '12px',
                                        fontSize: '14px',
                                        color: '#64748b',
                                        fontWeight: '500'
                                    }}>
                                        <span>‡∏†‡∏≤‡∏©‡∏µ (7%)</span>
                                        <span>‡∏ø{tax.toLocaleString('th-TH', { minimumFractionDigits: 2 })}</span>
                                    </div>
                                    <div style={{
                                        borderTop: '2px dashed #cbd5e1',
                                        paddingTop: '12px',
                                        display: 'flex',
                                        justifyContent: 'space-between',
                                        alignItems: 'center'
                                    }}>
                                        <span style={{ fontSize: '16px', fontWeight: '700', color: '#1e293b' }}>
                                            ‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                                        </span>
                                        <span style={{
                                            fontSize: '24px',
                                            fontWeight: '800',
                                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent'
                                        }}>
                                            ‡∏ø{total.toLocaleString('th-TH', { minimumFractionDigits: 2 })}
                                        </span>
                                    </div>
                                </div>

                                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px' }}>
                                    <button
                                        onClick={() => handleCheckout('‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î')}
                                        style={{
                                            background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                                            color: 'white',
                                            border: 'none',
                                            padding: '16px',
                                            borderRadius: '14px',
                                            fontSize: '15px',
                                            fontWeight: '700',
                                            cursor: 'pointer',
                                            display: 'flex',
                                            alignItems: 'center',
                                            justifyContent: 'center',
                                            gap: '8px',
                                            boxShadow: '0 8px 20px rgba(16, 185, 129, 0.3)'
                                        }}
                                    >
                                        <DollarSign size={20} />
                                        ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î
                                    </button>
                                    <button
                                        onClick={() => handleCheckout('‡∏ö‡∏±‡∏ï‡∏£')}
                                        style={{
                                            background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',
                                            color: 'white',
                                            border: 'none',
                                            padding: '16px',
                                            borderRadius: '14px',
                                            fontSize: '15px',
                                            fontWeight: '700',
                                            cursor: 'pointer',
                                            display: 'flex',
                                            alignItems: 'center',
                                            justifyContent: 'center',
                                            gap: '8px',
                                            boxShadow: '0 8px 20px rgba(59, 130, 246, 0.3)'
                                        }}
                                    >
                                        <CreditCard size={20} />
                                        ‡∏ö‡∏±‡∏ï‡∏£
                                    </button>
                                </div>
                            </>
                        )}
                    </div>

                    {/* Receipt Modal */}
                    {showReceipt && lastReceipt && (
                        <div
                            onClick={() => setShowReceipt(false)}
                            style={{
                                position: 'fixed',
                                top: 0,
                                left: 0,
                                right: 0,
                                bottom: 0,
                                background: 'rgba(0, 0, 0, 0.6)',
                                backdropFilter: 'blur(8px)',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                                zIndex: 1000,
                                padding: '20px'
                            }}
                        >
                            <div
                                onClick={(e) => e.stopPropagation()}
                                style={{
                                    background: 'white',
                                    borderRadius: '20px',
                                    padding: '40px',
                                    maxWidth: '500px',
                                    width: '100%',
                                    boxShadow: '0 25px 80px rgba(0, 0, 0, 0.3)',
                                    animation: 'scaleIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)'
                                }}
                            >
                                <div style={{ textAlign: 'center', marginBottom: '30px' }}>
                                    <div style={{
                                        width: '80px',
                                        height: '80px',
                                        background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                                        borderRadius: '20px',
                                        display: 'flex',
                                        alignItems: 'center',
                                        justifyContent: 'center',
                                        margin: '0 auto 20px'
                                    }}>
                                        <CheckCircle size={40} color="white" />
                                    </div>
                                    <h2 style={{
                                        margin: '0 0 8px 0',
                                        fontSize: '28px',
                                        fontWeight: '800',
                                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                        WebkitBackgroundClip: 'text',
                                        WebkitTextFillColor: 'transparent'
                                    }}>
                                        ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!
                                    </h2>
                                    <p style={{ margin: '0 0 4px 0', fontSize: '14px', color: '#64748b', fontWeight: '500' }}>
                                        {storeInfo.name}
                                    </p>
                                    <p style={{ margin: 0, fontSize: '12px', color: '#94a3b8' }}>
                                        ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏¥‡∏•: {lastReceipt.id}
                                    </p>
                                </div>

                                <div style={{
                                    background: '#f8fafc',
                                    borderRadius: '14px',
                                    padding: '20px',
                                    marginBottom: '20px'
                                }}>
                                    {lastReceipt.items.map(item => (
                                        <div
                                            key={item.id}
                                            style={{
                                                display: 'flex',
                                                justifyContent: 'space-between',
                                                marginBottom: '12px',
                                                fontSize: '14px',
                                                color: '#1e293b',
                                                fontWeight: '500'
                                            }}
                                        >
                                            <span>{item.name} x{item.quantity}</span>
                                            <span style={{ fontWeight: '700' }}>
                                                ‡∏ø{(item.price * item.quantity).toLocaleString('th-TH')}
                                            </span>
                                        </div>
                                    ))}
                                    <div style={{ borderTop: '2px dashed #cbd5e1', paddingTop: '12px', marginTop: '12px' }}>
                                        {lastReceipt.discount > 0 && (
                                            <div style={{
                                                display: 'flex',
                                                justifyContent: 'space-between',
                                                fontSize: '13px',
                                                color: '#ef4444',
                                                marginBottom: '6px',
                                                fontWeight: '600'
                                            }}>
                                                <span>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</span>
                                                <span>-‡∏ø{lastReceipt.discount.toLocaleString('th-TH', { minimumFractionDigits: 2 })}</span>
                                            </div>
                                        )}
                                        <div style={{
                                            display: 'flex',
                                            justifyContent: 'space-between',
                                            fontSize: '13px',
                                            color: '#64748b',
                                            marginBottom: '6px',
                                            fontWeight: '600'
                                        }}>
                                            <span>‡∏†‡∏≤‡∏©‡∏µ 7%</span>
                                            <span>‡∏ø{lastReceipt.tax.toLocaleString('th-TH', { minimumFractionDigits: 2 })}</span>
                                        </div>
                                        <div style={{
                                            display: 'flex',
                                            justifyContent: 'space-between',
                                            fontSize: '18px',
                                            fontWeight: '800',
                                            color: '#1e293b',
                                            marginTop: '12px'
                                        }}>
                                            <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</span>
                                            <span style={{
                                                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                WebkitBackgroundClip: 'text',
                                                WebkitTextFillColor: 'transparent'
                                            }}>
                                                ‡∏ø{lastReceipt.total.toLocaleString('th-TH', { minimumFractionDigits: 2 })}
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <div style={{
                                    background: 'linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%)',
                                    borderRadius: '14px',
                                    padding: '16px',
                                    marginBottom: '25px',
                                    textAlign: 'center'
                                }}>
                                    <div style={{ fontSize: '12px', color: '#6b21a8', fontWeight: '600', marginBottom: '4px' }}>
                                        ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
                                    </div>
                                    <div style={{ fontSize: '16px', fontWeight: '800', color: '#5b21b6' }}>
                                        {lastReceipt.paymentMethod}
                                    </div>
                                </div>

                                <button
                                    onClick={() => setShowReceipt(false)}
                                    style={{
                                        width: '100%',
                                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                        color: 'white',
                                        border: 'none',
                                        padding: '16px',
                                        borderRadius: '14px',
                                        fontSize: '16px',
                                        fontWeight: '700',
                                        cursor: 'pointer',
                                        boxShadow: '0 8px 20px rgba(102, 126, 234, 0.3)'
                                    }}
                                >
                                    ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Simplified BackOffice, Dashboard, and Settings components
        function BackOfficePage({ products, editingProduct, setEditingProduct, showProductForm, setShowProductForm, updateProduct, deleteProduct, addProduct }) {
            const [formData, setFormData] = useState({
                name: '', category: '', price: 0, cost: 0, stock: 0, image: 'üì¶', barcode: ''
            });

            useEffect(() => {
                if (editingProduct) {
                    setFormData(editingProduct);
                } else {
                    setFormData({ name: '', category: '', price: 0, cost: 0, stock: 0, image: 'üì¶', barcode: '' });
                }
            }, [editingProduct]);

            const handleSubmit = (e) => {
                e.preventDefault();
                if (editingProduct) {
                    updateProduct(formData);
                } else {
                    addProduct(formData);
                }
                setFormData({ name: '', category: '', price: 0, cost: 0, stock: 0, image: 'üì¶', barcode: '' });
            };

            const lowStockProducts = products.filter(p => p.stock < 10);
            const totalValue = products.reduce((sum, p) => sum + (p.price * p.stock), 0);
            const totalCost = products.reduce((sum, p) => sum + (p.cost * p.stock), 0);

            return (
                <div style={{
                    background: 'rgba(255, 255, 255, 0.98)',
                    borderRadius: '24px',
                    padding: '30px',
                    boxShadow: '0 20px 60px rgba(0, 0, 0, 0.15)',
                    animation: 'slideUp 0.5s ease-out'
                }}>
                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '20px', marginBottom: '30px' }}>
                        <div style={{
                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                            borderRadius: '16px',
                            padding: '20px',
                            color: 'white',
                            boxShadow: '0 8px 20px rgba(102, 126, 234, 0.3)'
                        }}>
                            <div style={{ fontSize: '12px', opacity: 0.9, marginBottom: '8px', fontWeight: '600' }}>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
                            <div style={{ fontSize: '32px', fontWeight: '800' }}>{products.length}</div>
                        </div>
                        <div style={{
                            background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                            borderRadius: '16px',
                            padding: '20px',
                            color: 'white',
                            boxShadow: '0 8px 20px rgba(16, 185, 129, 0.3)'
                        }}>
                            <div style={{ fontSize: '12px', opacity: 0.9, marginBottom: '8px', fontWeight: '600' }}>‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
                            <div style={{ fontSize: '28px', fontWeight: '800' }}>‡∏ø{totalValue.toLocaleString('th-TH', { maximumFractionDigits: 0 })}</div>
                        </div>
                        <div style={{
                            background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',
                            borderRadius: '16px',
                            padding: '20px',
                            color: 'white',
                            boxShadow: '0 8px 20px rgba(245, 158, 11, 0.3)'
                        }}>
                            <div style={{ fontSize: '12px', opacity: 0.9, marginBottom: '8px', fontWeight: '600' }}>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°</div>
                            <div style={{ fontSize: '28px', fontWeight: '800' }}>‡∏ø{totalCost.toLocaleString('th-TH', { maximumFractionDigits: 0 })}</div>
                        </div>
                        <div style={{
                            background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',
                            borderRadius: '16px',
                            padding: '20px',
                            color: 'white',
                            boxShadow: '0 8px 20px rgba(239, 68, 68, 0.3)'
                        }}>
                            <div style={{ fontSize: '12px', opacity: 0.9, marginBottom: '8px', fontWeight: '600' }}>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î</div>
                            <div style={{ fontSize: '32px', fontWeight: '800' }}>{lowStockProducts.length}</div>
                        </div>
                    </div>

                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '25px' }}>
                        <h2 style={{ margin: 0, fontSize: '24px', fontWeight: '800', color: '#1e293b' }}>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
                        <button
                            onClick={() => {
                                setEditingProduct(null);
                                setShowProductForm(!showProductForm);
                            }}
                            style={{
                                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                color: 'white',
                                border: 'none',
                                padding: '12px 24px',
                                borderRadius: '12px',
                                fontSize: '14px',
                                fontWeight: '600',
                                cursor: 'pointer',
                                display: 'flex',
                                alignItems: 'center',
                                gap: '8px',
                                boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)'
                            }}
                        >
                            <Plus size={18} />
                            ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </div>

                    {(showProductForm || editingProduct) && (
                        <div style={{
                            background: '#f8fafc',
                            borderRadius: '16px',
                            padding: '25px',
                            marginBottom: '25px',
                            border: '2px solid #e2e8f0'
                        }}>
                            <form onSubmit={handleSubmit}>
                                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '15px' }}>
                                    <div>
                                        <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '8px' }}>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ *</label>
                                        <input required type="text" value={formData.name} onChange={(e) => setFormData({ ...formData, name: e.target.value })}
                                            style={{ width: '100%', padding: '12px', border: '2px solid #e2e8f0', borderRadius: '10px', fontSize: '14px', outline: 'none' }} />
                                    </div>
                                    <div>
                                        <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '8px' }}>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà *</label>
                                        <input required type="text" value={formData.category} onChange={(e) => setFormData({ ...formData, category: e.target.value })}
                                            style={{ width: '100%', padding: '12px', border: '2px solid #e2e8f0', borderRadius: '10px', fontSize: '14px', outline: 'none' }} />
                                    </div>
                                    <div>
                                        <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '8px' }}>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢ *</label>
                                        <input required type="number" min="0" step="0.01" value={formData.price} onChange={(e) => setFormData({ ...formData, price: parseFloat(e.target.value) })}
                                            style={{ width: '100%', padding: '12px', border: '2px solid #e2e8f0', borderRadius: '10px', fontSize: '14px', outline: 'none' }} />
                                    </div>
                                    <div>
                                        <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '8px' }}>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô *</label>
                                        <input required type="number" min="0" step="0.01" value={formData.cost} onChange={(e) => setFormData({ ...formData, cost: parseFloat(e.target.value) })}
                                            style={{ width: '100%', padding: '12px', border: '2px solid #e2e8f0', borderRadius: '10px', fontSize: '14px', outline: 'none' }} />
                                    </div>
                                    <div>
                                        <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '8px' }}>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á *</label>
                                        <input required type="number" min="0" value={formData.stock} onChange={(e) => setFormData({ ...formData, stock: parseInt(e.target.value) })}
                                            style={{ width: '100%', padding: '12px', border: '2px solid #e2e8f0', borderRadius: '10px', fontSize: '14px', outline: 'none' }} />
                                    </div>
                                    <div>
                                        <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '8px' }}>‡∏ö‡∏≤‡∏£‡πå‡πÇ‡∏Ñ‡πâ‡∏î</label>
                                        <input type="text" value={formData.barcode} onChange={(e) => setFormData({ ...formData, barcode: e.target.value })}
                                            style={{ width: '100%', padding: '12px', border: '2px solid #e2e8f0', borderRadius: '10px', fontSize: '14px', outline: 'none' }} />
                                    </div>
                                    <div style={{ gridColumn: 'span 2' }}>
                                        <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '8px' }}>‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô</label>
                                        <input type="text" value={formData.image} onChange={(e) => setFormData({ ...formData, image: e.target.value })}
                                            style={{ width: '100%', padding: '12px', border: '2px solid #e2e8f0', borderRadius: '10px', fontSize: '14px', outline: 'none' }} />
                                    </div>
                                </div>
                                <div style={{ display: 'flex', gap: '10px', marginTop: '20px', paddingTop: '20px', borderTop: '2px solid #e2e8f0' }}>
                                    <button type="submit" style={{
                                        flex: 1,
                                        background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                                        color: 'white',
                                        border: 'none',
                                        padding: '14px',
                                        borderRadius: '12px',
                                        fontSize: '15px',
                                        fontWeight: '700',
                                        cursor: 'pointer',
                                        display: 'flex',
                                        alignItems: 'center',
                                        justifyContent: 'center',
                                        gap: '8px',
                                        boxShadow: '0 4px 15px rgba(16, 185, 129, 0.3)'
                                    }}>
                                        <Save size={18} />
                                        {editingProduct ? '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å' : '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤'}
                                    </button>
                                    <button type="button" onClick={() => { setEditingProduct(null); setShowProductForm(false); }} style={{
                                        background: '#f1f5f9',
                                        color: '#64748b',
                                        border: 'none',
                                        padding: '14px 24px',
                                        borderRadius: '12px',
                                        fontSize: '15px',
                                        fontWeight: '700',
                                        cursor: 'pointer'
                                    }}>‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                                </div>
                            </form>
                        </div>
                    )}

                    <div style={{ background: 'white', borderRadius: '16px', overflow: 'hidden', border: '2px solid #e2e8f0' }}>
                        <div style={{ overflowX: 'auto', maxHeight: '600px' }}>
                            <table style={{ width: '100%', borderCollapse: 'collapse' }}>
                                <thead>
                                    <tr style={{ background: '#f8fafc', borderBottom: '2px solid #e2e8f0' }}>
                                        <th style={{ padding: '16px', textAlign: 'left', fontSize: '13px', fontWeight: '700', color: '#64748b' }}>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                        <th style={{ padding: '16px', textAlign: 'left', fontSize: '13px', fontWeight: '700', color: '#64748b' }}>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</th>
                                        <th style={{ padding: '16px', textAlign: 'right', fontSize: '13px', fontWeight: '700', color: '#64748b' }}>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô</th>
                                        <th style={{ padding: '16px', textAlign: 'right', fontSize: '13px', fontWeight: '700', color: '#64748b' }}>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢</th>
                                        <th style={{ padding: '16px', textAlign: 'right', fontSize: '13px', fontWeight: '700', color: '#64748b' }}>‡∏Å‡∏≥‡πÑ‡∏£/‡∏ä‡∏¥‡πâ‡∏ô</th>
                                        <th style={{ padding: '16px', textAlign: 'center', fontSize: '13px', fontWeight: '700', color: '#64748b' }}>‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á</th>
                                        <th style={{ padding: '16px', textAlign: 'center', fontSize: '13px', fontWeight: '700', color: '#64748b' }}>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {products.map((product) => {
                                        const profitPerUnit = product.price - product.cost;
                                        const profitMargin = ((profitPerUnit / product.price) * 100).toFixed(1);

                                        return (
                                            <tr key={product.id} style={{ borderBottom: '1px solid #f1f5f9' }}>
                                                <td style={{ padding: '16px' }}>
                                                    <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
                                                        <div style={{ fontSize: '32px' }}>{product.image}</div>
                                                        <div>
                                                            <div style={{ fontSize: '14px', fontWeight: '600', color: '#1e293b' }}>{product.name}</div>
                                                            {product.barcode && <div style={{ fontSize: '11px', color: '#94a3b8' }}>{product.barcode}</div>}
                                                        </div>
                                                    </div>
                                                </td>
                                                <td style={{ padding: '16px' }}>
                                                    <span style={{
                                                        display: 'inline-block',
                                                        padding: '4px 12px',
                                                        background: '#ede9fe',
                                                        color: '#6b21a8',
                                                        borderRadius: '8px',
                                                        fontSize: '12px',
                                                        fontWeight: '600'
                                                    }}>{product.category}</span>
                                                </td>
                                                <td style={{ padding: '16px', textAlign: 'right', fontSize: '14px', fontWeight: '600', color: '#64748b' }}>
                                                    ‡∏ø{product.cost.toLocaleString('th-TH')}
                                                </td>
                                                <td style={{ padding: '16px', textAlign: 'right', fontSize: '14px', fontWeight: '700', color: '#1e293b' }}>
                                                    ‡∏ø{product.price.toLocaleString('th-TH')}
                                                </td>
                                                <td style={{ padding: '16px', textAlign: 'right' }}>
                                                    <div style={{ fontSize: '14px', fontWeight: '700', color: profitPerUnit > 0 ? '#10b981' : '#ef4444' }}>
                                                        ‡∏ø{profitPerUnit.toLocaleString('th-TH')}
                                                    </div>
                                                    <div style={{ fontSize: '11px', color: '#94a3b8', marginTop: '2px' }}>{profitMargin}%</div>
                                                </td>
                                                <td style={{ padding: '16px', textAlign: 'center' }}>
                                                    <span style={{
                                                        display: 'inline-block',
                                                        padding: '6px 14px',
                                                        borderRadius: '8px',
                                                        fontSize: '13px',
                                                        fontWeight: '700',
                                                        background: product.stock <= 0 ? '#fee2e2' : product.stock < 10 ? '#fef3c7' : '#d1fae5',
                                                        color: product.stock <= 0 ? '#dc2626' : product.stock < 10 ? '#d97706' : '#059669'
                                                    }}>{product.stock}</span>
                                                </td>
                                                <td style={{ padding: '16px' }}>
                                                    <div style={{ display: 'flex', gap: '8px', justifyContent: 'center' }}>
                                                        <button onClick={() => setEditingProduct(product)} style={{
                                                            background: '#dbeafe',
                                                            color: '#2563eb',
                                                            border: 'none',
                                                            padding: '8px',
                                                            borderRadius: '8px',
                                                            cursor: 'pointer',
                                                            display: 'flex',
                                                            alignItems: 'center',
                                                            justifyContent: 'center'
                                                        }}>
                                                            <Edit2 size={16} />
                                                        </button>
                                                        <button onClick={() => deleteProduct(product.id)} style={{
                                                            background: '#fee2e2',
                                                            color: '#dc2626',
                                                            border: 'none',
                                                            padding: '8px',
                                                            borderRadius: '8px',
                                                            cursor: 'pointer',
                                                            display: 'flex',
                                                            alignItems: 'center',
                                                            justifyContent: 'center'
                                                        }}>
                                                            <Trash2 size={16} />
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        );
                                    })}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            );
        }

        function DashboardPage({ transactions, todaySales, todayProfit, todayTransactions }) {
            const totalRevenue = transactions.reduce((sum, t) => sum + t.total, 0);
            const totalProfit = transactions.reduce((sum, t) => sum + t.profit, 0);
            const totalCost = transactions.reduce((sum, t) => sum + t.cost, 0);
            const averageTicket = todayTransactions.length > 0 ? todaySales / todayTransactions.length : 0;

            const exportToCSV = () => {
                const headers = ['‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà', '‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏¥‡∏•', '‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°', '‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î', '‡∏†‡∏≤‡∏©‡∏µ', '‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞', '‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô', '‡∏Å‡∏≥‡πÑ‡∏£', '‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô'];
                const rows = transactions.map(t => [
                    new Date(t.date).toLocaleString('th-TH'),
                    t.id,
                    t.subtotal.toFixed(2),
                    t.discount.toFixed(2),
                    t.tax.toFixed(2),
                    t.total.toFixed(2),
                    t.cost.toFixed(2),
                    t.profit.toFixed(2),
                    t.paymentMethod
                ]);
                
                const csv = [headers, ...rows].map(row => row.join(',')).join('\n');
                const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `sales-report-${new Date().toISOString().split('T')[0]}.csv`;
                link.click();
            };

            return (
                <div style={{ animation: 'slideUp 0.5s ease-out' }}>
                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '20px', marginBottom: '20px' }}>
                        <div style={{
                            background: 'rgba(255, 255, 255, 0.98)',
                            borderRadius: '20px',
                            padding: '24px',
                            boxShadow: '0 8px 30px rgba(0, 0, 0, 0.12)',
                            border: '2px solid #e0e7ff'
                        }}>
                            <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>
                                <div style={{
                                    width: '48px',
                                    height: '48px',
                                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                    borderRadius: '14px',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    boxShadow: '0 4px 12px rgba(102, 126, 234, 0.3)'
                                }}>
                                    <TrendingUp size={24} color="white" />
                                </div>
                                <div style={{ fontSize: '13px', fontWeight: '600', color: '#64748b' }}>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                            </div>
                            <div style={{ fontSize: '32px', fontWeight: '800', color: '#1e293b', marginBottom: '4px' }}>
                                ‡∏ø{todaySales.toLocaleString('th-TH', { maximumFractionDigits: 0 })}
                            </div>
                            <div style={{ fontSize: '13px', fontWeight: '600', color: '#10b981', display: 'flex', alignItems: 'center', gap: '4px' }}>
                                <ArrowUp size={14} />
                                {todayTransactions.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
                            </div>
                        </div>

                        <div style={{
                            background: 'rgba(255, 255, 255, 0.98)',
                            borderRadius: '20px',
                            padding: '24px',
                            boxShadow: '0 8px 30px rgba(0, 0, 0, 0.12)',
                            border: '2px solid #d1fae5'
                        }}>
                            <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>
                                <div style={{
                                    width: '48px',
                                    height: '48px',
                                    background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                                    borderRadius: '14px',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)'
                                }}>
                                    <DollarSign size={24} color="white" />
                                </div>
                                <div style={{ fontSize: '13px', fontWeight: '600', color: '#64748b' }}>‡∏Å‡∏≥‡πÑ‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                            </div>
                            <div style={{ fontSize: '32px', fontWeight: '800', color: '#1e293b' }}>
                                ‡∏ø{todayProfit.toLocaleString('th-TH', { maximumFractionDigits: 0 })}
                            </div>
                        </div>

                        <div style={{
                            background: 'rgba(255, 255, 255, 0.98)',
                            borderRadius: '20px',
                            padding: '24px',
                            boxShadow: '0 8px 30px rgba(0, 0, 0, 0.12)',
                            border: '2px solid #fed7aa'
                        }}>
                            <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>
                                <div style={{
                                    width: '48px',
                                    height: '48px',
                                    background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',
                                    borderRadius: '14px',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    boxShadow: '0 4px 12px rgba(245, 158, 11, 0.3)'
                                }}>
                                    <Receipt size={24} color="white" />
                                </div>
                                <div style={{ fontSize: '13px', fontWeight: '600', color: '#64748b' }}>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ö‡∏¥‡∏•</div>
                            </div>
                            <div style={{ fontSize: '32px', fontWeight: '800', color: '#1e293b' }}>
                                ‡∏ø{averageTicket.toLocaleString('th-TH', { maximumFractionDigits: 0 })}
                            </div>
                        </div>

                        <div style={{
                            background: 'rgba(255, 255, 255, 0.98)',
                            borderRadius: '20px',
                            padding: '24px',
                            boxShadow: '0 8px 30px rgba(0, 0, 0, 0.12)',
                            border: '2px solid #ddd6fe'
                        }}>
                            <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>
                                <div style={{
                                    width: '48px',
                                    height: '48px',
                                    background: 'linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)',
                                    borderRadius: '14px',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    boxShadow: '0 4px 12px rgba(139, 92, 246, 0.3)'
                                }}>
                                    <Calendar size={24} color="white" />
                                </div>
                                <div style={{ fontSize: '13px', fontWeight: '600', color: '#64748b' }}>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°</div>
                            </div>
                            <div style={{ fontSize: '32px', fontWeight: '800', color: '#1e293b' }}>
                                ‡∏ø{totalRevenue.toLocaleString('th-TH', { maximumFractionDigits: 0 })}
                            </div>
                        </div>
                    </div>

                    <div style={{
                        background: 'rgba(255, 255, 255, 0.98)',
                        borderRadius: '20px',
                        padding: '25px',
                        boxShadow: '0 8px 30px rgba(0, 0, 0, 0.12)',
                        marginBottom: '20px'
                    }}>
                        <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '20px' }}>
                            <h3 style={{ margin: 0, fontSize: '20px', fontWeight: '700', color: '#1e293b' }}>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
                            <button onClick={exportToCSV} style={{
                                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                color: 'white',
                                border: 'none',
                                padding: '10px 18px',
                                borderRadius: '10px',
                                fontSize: '13px',
                                fontWeight: '600',
                                cursor: 'pointer',
                                display: 'flex',
                                alignItems: 'center',
                                gap: '6px',
                                boxShadow: '0 4px 12px rgba(102, 126, 234, 0.3)'
                            }}>
                                <Download size={16} />
                                ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å CSV
                            </button>
                        </div>

                        <div style={{ maxHeight: '400px', overflowY: 'auto' }}>
                            {transactions.slice(-10).reverse().map((transaction) => (
                                <div key={transaction.id} style={{
                                    padding: '16px',
                                    borderRadius: '12px',
                                    marginBottom: '10px',
                                    background: '#f8fafc',
                                    border: '1px solid #e2e8f0'
                                }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>
                                        <div>
                                            <div style={{ fontSize: '14px', fontWeight: '700', color: '#1e293b' }}>{transaction.id}</div>
                                            <div style={{ fontSize: '12px', color: '#64748b' }}>
                                                {new Date(transaction.date).toLocaleString('th-TH')}
                                            </div>
                                        </div>
                                        <div style={{ textAlign: 'right' }}>
                                            <div style={{ fontSize: '16px', fontWeight: '700', color: '#1e293b' }}>
                                                ‡∏ø{transaction.total.toLocaleString('th-TH', { minimumFractionDigits: 2 })}
                                            </div>
                                            <div style={{ fontSize: '12px', fontWeight: '600', color: '#10b981' }}>
                                                ‡∏Å‡∏≥‡πÑ‡∏£ ‡∏ø{transaction.profit.toLocaleString('th-TH', { minimumFractionDigits: 2 })}
                                            </div>
                                        </div>
                                    </div>
                                    <div style={{ fontSize: '12px', color: '#64748b' }}>
                                        {transaction.items.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚Ä¢ {transaction.paymentMethod}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '20px' }}>
                        <div style={{
                            background: 'rgba(255, 255, 255, 0.98)',
                            borderRadius: '20px',
                            padding: '24px',
                            boxShadow: '0 8px 30px rgba(0, 0, 0, 0.12)',
                            border: '2px solid #dbeafe'
                        }}>
                            <div style={{ fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '8px' }}>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                            <div style={{ fontSize: '36px', fontWeight: '800', color: '#1e293b' }}>
                                ‡∏ø{totalRevenue.toLocaleString('th-TH', { maximumFractionDigits: 0 })}
                            </div>
                        </div>
                        <div style={{
                            background: 'rgba(255, 255, 255, 0.98)',
                            borderRadius: '20px',
                            padding: '24px',
                            boxShadow: '0 8px 30px rgba(0, 0, 0, 0.12)',
                            border: '2px solid #fecaca'
                        }}>
                            <div style={{ fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '8px' }}>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°</div>
                            <div style={{ fontSize: '36px', fontWeight: '800', color: '#1e293b' }}>
                                ‡∏ø{totalCost.toLocaleString('th-TH', { maximumFractionDigits: 0 })}
                            </div>
                        </div>
                        <div style={{
                            background: 'rgba(255, 255, 255, 0.98)',
                            borderRadius: '20px',
                            padding: '24px',
                            boxShadow: '0 8px 30px rgba(0, 0, 0, 0.12)',
                            border: '2px solid #d1fae5'
                        }}>
                            <div style={{ fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '8px' }}>‡∏Å‡∏≥‡πÑ‡∏£‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                            <div style={{ fontSize: '36px', fontWeight: '800', color: '#10b981' }}>
                                ‡∏ø{totalProfit.toLocaleString('th-TH', { maximumFractionDigits: 0 })}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function SettingsPage({ storeInfo, setStoreInfo, editingStore, setEditingStore }) {
            const [tempStoreInfo, setTempStoreInfo] = useState(storeInfo);

            const handleSave = () => {
                setStoreInfo(tempStoreInfo);
                setEditingStore(false);
            };

            return (
                <div style={{
                    background: 'rgba(255, 255, 255, 0.98)',
                    borderRadius: '24px',
                    padding: '30px',
                    boxShadow: '0 20px 60px rgba(0, 0, 0, 0.15)',
                    animation: 'slideUp 0.5s ease-out'
                }}>
                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '30px' }}>
                        <h2 style={{ margin: 0, fontSize: '24px', fontWeight: '800', color: '#1e293b' }}>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
                        {!editingStore ? (
                            <button onClick={() => { setTempStoreInfo(storeInfo); setEditingStore(true); }} style={{
                                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                color: 'white',
                                border: 'none',
                                padding: '12px 24px',
                                borderRadius: '12px',
                                fontSize: '14px',
                                fontWeight: '600',
                                cursor: 'pointer',
                                display: 'flex',
                                alignItems: 'center',
                                gap: '8px',
                                boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)'
                            }}>
                                <Edit2 size={18} />
                                ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                            </button>
                        ) : (
                            <div style={{ display: 'flex', gap: '10px' }}>
                                <button onClick={handleSave} style={{
                                    background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                                    color: 'white',
                                    border: 'none',
                                    padding: '12px 24px',
                                    borderRadius: '12px',
                                    fontSize: '14px',
                                    fontWeight: '600',
                                    cursor: 'pointer',
                                    display: 'flex',
                                    alignItems: 'center',
                                    gap: '8px',
                                    boxShadow: '0 4px 15px rgba(16, 185, 129, 0.3)'
                                }}>
                                    <Save size={18} />
                                    ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                                </button>
                                <button onClick={() => { setTempStoreInfo(storeInfo); setEditingStore(false); }} style={{
                                    background: '#f1f5f9',
                                    color: '#64748b',
                                    border: 'none',
                                    padding: '12px 24px',
                                    borderRadius: '12px',
                                    fontSize: '14px',
                                    fontWeight: '600',
                                    cursor: 'pointer'
                                }}>‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                            </div>
                        )}
                    </div>

                    <div style={{ background: '#f8fafc', borderRadius: '16px', padding: '30px', border: '2px solid #e2e8f0' }}>
                        <div style={{ maxWidth: '600px' }}>
                            <div style={{ marginBottom: '24px' }}>
                                <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '10px' }}>‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏£‡πâ‡∏≤‡∏ô</label>
                                <input type="text" disabled={!editingStore} value={tempStoreInfo.logo} onChange={(e) => setTempStoreInfo({ ...tempStoreInfo, logo: e.target.value })}
                                    style={{
                                        width: '100%',
                                        padding: '14px',
                                        border: '2px solid #e2e8f0',
                                        borderRadius: '12px',
                                        fontSize: '24px',
                                        textAlign: 'center',
                                        outline: 'none',
                                        background: editingStore ? 'white' : '#f8fafc'
                                    }} />
                            </div>
                            <div style={{ marginBottom: '24px' }}>
                                <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '10px' }}>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô</label>
                                <input type="text" disabled={!editingStore} value={tempStoreInfo.name} onChange={(e) => setTempStoreInfo({ ...tempStoreInfo, name: e.target.value })}
                                    style={{
                                        width: '100%',
                                        padding: '14px',
                                        border: '2px solid #e2e8f0',
                                        borderRadius: '12px',
                                        fontSize: '15px',
                                        fontWeight: '600',
                                        outline: 'none',
                                        background: editingStore ? 'white' : '#f8fafc'
                                    }} />
                            </div>
                            <div style={{ marginBottom: '24px' }}>
                                <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '10px' }}>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</label>
                                <textarea disabled={!editingStore} value={tempStoreInfo.address} onChange={(e) => setTempStoreInfo({ ...tempStoreInfo, address: e.target.value })} rows={3}
                                    style={{
                                        width: '100%',
                                        padding: '14px',
                                        border: '2px solid #e2e8f0',
                                        borderRadius: '12px',
                                        fontSize: '14px',
                                        fontWeight: '500',
                                        outline: 'none',
                                        resize: 'none',
                                        background: editingStore ? 'white' : '#f8fafc'
                                    }} />
                            </div>
                            <div style={{ marginBottom: '24px' }}>
                                <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '10px' }}>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                                <input type="text" disabled={!editingStore} value={tempStoreInfo.phone} onChange={(e) => setTempStoreInfo({ ...tempStoreInfo, phone: e.target.value })}
                                    style={{
                                        width: '100%',
                                        padding: '14px',
                                        border: '2px solid #e2e8f0',
                                        borderRadius: '12px',
                                        fontSize: '15px',
                                        fontWeight: '500',
                                        outline: 'none',
                                        background: editingStore ? 'white' : '#f8fafc'
                                    }} />
                            </div>
                            <div style={{ marginBottom: '24px' }}>
                                <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: '#64748b', marginBottom: '10px' }}>‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ</label>
                                <input type="text" disabled={!editingStore} value={tempStoreInfo.taxId} onChange={(e) => setTempStoreInfo({ ...tempStoreInfo, taxId: e.target.value })}
                                    style={{
                                        width: '100%',
                                        padding: '14px',
                                        border: '2px solid #e2e8f0',
                                        borderRadius: '12px',
                                        fontSize: '15px',
                                        fontWeight: '500',
                                        outline: 'none',
                                        background: editingStore ? 'white' : '#f8fafc'
                                    }} />
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CompletePOSSystem />);
    </script>
</body>
</html>